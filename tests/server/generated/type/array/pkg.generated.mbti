// Generated using `moon info`, DON'T EDIT IT
package "kkkiio/typespec-tests/server/generated/type/array"

import {
  "kkkiio/typespec-server-runtime",
  "moonbitlang/async",
  "moonbitlang/async/http",
  "moonbitlang/async/io",
  "moonbitlang/core/json",
}

// Values
pub fn create_dispatch(async (@http.Request, &@io.Reader, @http.ServerConnection) -> RouteMatch) -> async (@http.Request, &@io.Reader, @http.ServerConnection) -> Unit

pub fn[H0 : Int32ValueHandler, H1 : Int64ValueHandler, H2 : BooleanValueHandler, H3 : StringValueHandler, H4 : Float32ValueHandler, H5 : DatetimeValueHandler, H6 : DurationValueHandler, H7 : UnknownValueHandler, H8 : ModelValueHandler, H9 : NullableFloatValueHandler, H10 : NullableInt32ValueHandler, H11 : NullableBooleanValueHandler, H12 : NullableStringValueHandler, H13 : NullableModelValueHandler] create_router(int32_value_handler~ : H0, int64_value_handler~ : H1, boolean_value_handler~ : H2, string_value_handler~ : H3, float32_value_handler~ : H4, datetime_value_handler~ : H5, duration_value_handler~ : H6, unknown_value_handler~ : H7, model_value_handler~ : H8, nullable_float_value_handler~ : H9, nullable_int32_value_handler~ : H10, nullable_boolean_value_handler~ : H11, nullable_string_value_handler~ : H12, nullable_model_value_handler~ : H13, group~ : @async.TaskGroup[Unit]) -> async (@http.Request, &@io.Reader, @http.ServerConnection) -> RouteMatch

pub fn match_route(@http.RequestMethod, String) -> MatchRouteResult

// Errors

// Types and methods
pub(all) struct InnerModel {
  property : String
  children : Array[InnerModel]?
}
pub impl Show for InnerModel
pub impl ToJson for InnerModel
pub impl @json.FromJson for InnerModel

pub(all) enum MatchRouteResult {
  NotMatched
  MethodNotAllowed
  Matched(RouteId)
}

pub(all) enum RouteId {
  Int32ValueGet
  Int32ValuePut
  Int64ValueGet
  Int64ValuePut
  BooleanValueGet
  BooleanValuePut
  StringValueGet
  StringValuePut
  Float32ValueGet
  Float32ValuePut
  DatetimeValueGet
  DatetimeValuePut
  DurationValueGet
  DurationValuePut
  UnknownValueGet
  UnknownValuePut
  ModelValueGet
  ModelValuePut
  NullableFloatValueGet
  NullableFloatValuePut
  NullableInt32ValueGet
  NullableInt32ValuePut
  NullableBooleanValueGet
  NullableBooleanValuePut
  NullableStringValueGet
  NullableStringValuePut
  NullableModelValueGet
  NullableModelValuePut
}

pub(all) enum RouteMatch {
  Handled
  NotMatched
  MethodNotAllowed
}

// Type aliases
pub type Router = async (@http.Request, &@io.Reader, @http.ServerConnection) -> RouteMatch

// Traits
pub(open) trait BooleanValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[Bool]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[Bool]) -> Unit
}

pub(open) trait DatetimeValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.UtcDateTime]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.UtcDateTime]) -> Unit
}

pub(open) trait DurationValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Duration]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Duration]) -> Unit
}

pub(open) trait Float32ValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[Double]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[Double]) -> Unit
}

pub(open) trait Int32ValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[Int]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[Int]) -> Unit
}

pub(open) trait Int64ValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[Int64]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[Int64]) -> Unit
}

pub(open) trait ModelValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[InnerModel]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[InnerModel]) -> Unit
}

pub(open) trait NullableBooleanValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Nullable[Bool]]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Nullable[Bool]]) -> Unit
}

pub(open) trait NullableFloatValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Nullable[Double]]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Nullable[Double]]) -> Unit
}

pub(open) trait NullableInt32ValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Nullable[Int]]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Nullable[Int]]) -> Unit
}

pub(open) trait NullableModelValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Nullable[InnerModel]]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Nullable[InnerModel]]) -> Unit
}

pub(open) trait NullableStringValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[@typespec-server-runtime.Nullable[String]]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[@typespec-server-runtime.Nullable[String]]) -> Unit
}

pub(open) trait StringValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[String]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[String]) -> Unit
}

pub(open) trait UnknownValueHandler {
  async get(Self, group~ : @async.TaskGroup[Unit]) -> Array[Json]
  async put(Self, group~ : @async.TaskGroup[Unit], Array[Json]) -> Unit
}

